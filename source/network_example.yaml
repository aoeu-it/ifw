network:
  # One to one example
  nodes:
    - name: laptop-01.example.com
      can_access:
        nodes:
          - name: sftp-01.example.com
            services:
              - sftp 
              - ssh
        groups:
          - name: infra
            services:
              - dns
      exposes:
    - name: sftp-01.example.com
      can_access:
        nodes:
        groups:
      exposes:
        - sftp
    - name: dns-01.example.com
      can_access:
        nodes:
        groups:
      exposes:
        - dns
    # One to many example
    - name: laptop-02.example.com
      can_access:
        nodes:
          # virtual-pubic-web has the "world" keyword in its nodedata.
          - name: virtual-public-web
            services:
              - web
        groups:
          - name: infra
            services:
              - dns
      exposes:
    - name: virtual-public-web-01
      can_access:
        nodes:
        groups:
      exposes:
        - dns
    # Many to one example
    - name: virtual-public-web-02
      can_access:
        nodes:
          - name: your-webserver-01.example.com
            services:
              - web
        groups:
      exposes:
    - name: your-webserver-01.example.com
      can_access:
        nodes:
        groups:
          - name: infra
            services:
              - dns
      exposes:
        - web
  groups:
    - name: infra
      nodes:
        - dns-01.example.com
  services:
    - name: ssh
      rules:
        - name: ssh
          port: 22
          proto: tcp
    - name: dns
      rules:
        - name: dns
          port: 53
          proto: udp
    - name: sfp
      rule:
        - name: sftp
          port: 22
          proto: tcp
    - name: web
      rule:
        - name: http
          port: 80
          proto: tcp
        - name: https
          port: 443
          proto: tcp
  nodedata:
    nodes:
      - name: laptop-01.example.com
        ipv4:
          - 1.2.3.4 
      - name: sftp-01.example.com
        ipv4:
          - 1.2.3.5 
      - name: dns-01.example.com
        ipv4:
          - 1.2.3.6 
      - name: laptop-02.example.com
        ipv4:
          - 1.2.3.6 
      - name: virtual-public-web
        ipv4:
          - world 
      - name: webserver-01.example.com
        ipv4:
          - 1.2.3.7 
